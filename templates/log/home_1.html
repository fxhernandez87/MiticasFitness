<ion-view view-title="Diario">
  <ion-content>    
    <ion-list>      
      <div class="itemDiario" ng-repeat="days in data.data">
        <ion-item class="item-dark p0"
                        ng-click="toggleGroupDays(days)"
                        ng-class="{active: isGroupDaysShown(days)}">  
            <div class="row pb0">
                <div class="col col-75"><h3 class="cBlanco t20">{{days.fecha}}</h3></div>
                <div class="col col-25 alR" ng-click="show(days.fecha)"><i class="icon ion-android-add-circle t36 cNaranja"></i></div>
            </div>
            <div ng-show="isThereData(days.nodata)" class="row barraEnergia">
                <div class="overlay"></div>
                <div ng-repeat="valores in days.data" class="col {{ valores.mensaje.clase}}"></div>        
            </div>
        </ion-item>
        <ion-item class="item-accordion p0"                     
                  ng-show="isGroupDaysShown(days)">
          <ion-list ng-show="isThereData(days.nodata)">
            <div ng-repeat="valores in days.data" class="item-ficha item-{{ valores.mensaje.clase}}">
              <ion-item class="row"
                        ng-click="toggleGroup(valores)"
                        ng-class="{active: isGroupShown(valores)}">             
                  <span class="col"><span class="helpedVA">{{ valores.mensaje.titulo }}</span><span class="helperVA"></span></span>
                  <span class="col"><span class="helpedVA">{{ valores.valor }}</span><span class="helperVA"></span></span>
                  <span class="col-25 alR"><img ng-if="valores.badge!==false" src="img/badges/{{ valores.badge }}" alt="Badge" /></span>
              </ion-item>
              <ion-item class="item-accordion infoDesp row"                     
                        ng-show="isGroupShown(valores)">
                {{valores.mensaje.resumen}}
              </ion-item>
            </div>
          </ion-list> 
          <ion-list ng-show="isThereNoData(days.nodata)">
            <div class="row p10">
                <div class="col-20 alC">
                    <i class="icon ion-alert-circled t36 helpedVA"></i><span class="helperVA"></span> 
                </div>
                <p class="col-80 wsNormal">Todavía no ingresaste los datos necesarios para el resumen del día. Por favor, usa el botón "+" para realizar la carga.</p>
            </div>
          </ion-list>
        </ion-item>
      </div>
    </ion-list>
    <ion-infinite-scroll
      on-infinite="test({{data.fecha_siguiente}})"
      distance="1%">
    </ion-infinite-scroll>
  </ion-content>
</ion-view>
